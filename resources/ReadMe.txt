・はじめに
　このソフトウェアはオープンソースソフトウェアです。
ライセンスはGPLv2になります。

JKaiUI Customはまだ開発版です。オリジナルからそう多く変更していないので大丈夫だともいますが、ご利用は自己責任でお願いします。
バグ報告や改良点の提案などあればyuu.akron@gmail.comやウェブページ(http://yuu-akron.blogspot.com/)までご連絡ください。

--------------------------------------------------------------------------------------------------------------------------------
・追加機能の説明
　Ver.0.5.xでの追加機能の使い方の説明です。
Original版を使ったことがある人向けの説明です。

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
追加機能の設定はMenu→Setting→Originalボタンで開かれる画面でまとめて設定できます。

各設定の意味は以下です。
1, Chat/PM設定
　チャット・PM関連の設定を指定できます。各項目の意味は以下です。

    Show the latest chat：オン時、チャット受信時にその位置に移動し、表示します。デフォルトでオン。
    Show friends login info：フレがログイン、ログオフした時にメッセージを表示します。デフォルトではオフ。
    Hide Server message：オン時、Kai Orbital Mesh（サーバー）からのメッセージを非表示にします。デフォルトではオフ。
    Color in the Background：時間と発言した人のXTAGの背景色をつけます。デフォルトでオン。
    Show Image with Mouse over Link：画像のURLのマウスオーバー時に画像を表示する。デフォルトでオフ。
    Chat Wrap：チャットを強制的に右端で折り返す（効果がないかも）。デフォルトでオフ。
    Enable CUI Command：CUIコマンドでJKaiUIを制御できる。デフォルトでオン。コマンドについては後述します。
    Enable Ask Command：CUIコマンドで通信相手のJKaiUIから情報を引き出せる。セキュリティ上の問題からデフォルトでオフ。コマンドについては後述します。
    Chat History：↑↓ボタンで過去に発言したチャットを入力欄に表示できます。過去に発言したチャットをどれだけ保存しておくかを指定できます。無効にするなら0に指定してください。デフォルトでは100。
    Font Size：チャットウィンドウの各場所のフォントサイズを指定できます。
        Main Chat：通常チャットのフォントサイズを指定できます。デフォルト値は12。オリジナル版より少し大きめ。
        System：場所を示すチャットなどUIが自動で生成するもののフォントサイズを指定できます。デフォルト値は10。オリジナル版より少し大きめ。
        Input Field：チャット入力欄のフォントサイズを指定できます。デフォルト値は12。オリジナル版より少しい大きめ。
    Chat Display Style：チャットを表示するときのスタイルを指定できる。デフォルトはJKaiUIのもの。
        JKaiUI：JKaiUIデフォルトの表示形式。
        Like GUI：GUI風の表示形式。
        Like WebUI：WebUI風の表示形式。

2, Logger設定
　チャットログ（PM, ArenaPM含む）を保存できます。
チェックボックスで機能をon/offできます。デフォルトではoffです。
チェックボックスの隣のテキストフィールドで保存先を指定できます。デフォルトではJKaiUIがある場所にlogフォルダを作成して、その下にログファイルを保存します。
　デフォルトのログファイル名はChatlog-"年月日".txtになります。"年月日"の部分はその日の日付になります。
　この部分を変更することでファイル保存先をある程度カスタマイズできます。
　%Y、%M、%Dはそれぞれ西暦4桁、月、日になります。それら３つをできるかぎり含めた保存先を指定してください。
3つを含めない場合以下のような動作になります。

    %Yのみの場合、一年間同じファイルに書き込まれます。
    %Y, %Mのみの場合は一ヶ月間同じファイルに書き込まれます。
    %Y, %Dのみの場合、月が違っていても同じ年月のファイルに保存されます（2011年9月1日と2011年10月1日は同じファイルに保存されます）。
    %Mのみの場合、年が違っても同じ月のファイルに保存されます（2011年9月と2012年9月分は同じファイルに保存されます）。
    %M, %Dのみの場合、年が違っても同じ月日のファイルに保存されます（2011年9月1日と2012年9月1日は同じファイルに保存されます）。
    %Dのみの場合、年月が違っても同じ日付のファイルに保存されます（9月1日と10月1日は同じファイルに保存されます）。

保存先を指定した隣のテキストフィールドでどのような情報をどのような形式で記録するかを指定できます。
　各記号の意味は以下です。
    
    %T：チャットを受信した時間（西暦4桁/月/日 時間の形式）
    %K：通常チャット、ＰＭなどの種類
    %R：受信者（通常チャットの場合は発言した場所） 
    %S：送信者          
    %M：チャットの内容

保存されたチャットの例：2011/09/21 20:01:04;Chat;Arena/PSP/Action/Monster Hunter Portable 3rd/Japan/No Password Arena/3 Zatsudan and Setuzoku Support;yuu@akron;test
例の場合、各記号に相当する部分は以下になります。";"は区切り文字です。

    %T：2011/09/21 20:01:04
    %K：Chat
    %R：Arena/PSP/Action/Monster Hunter Portable 3rd/Japan/No Password Arena/3 Zatsudan and Setuzoku Support
    %S：yuu@akron
    %M：test

3, Sound設定
　MiscellaneousのPlay Message Soundをonに設定することでチャットを送受信する時に音を鳴らすことができます。
そのときの鳴るタイミングとならす音を指定できます。それぞれの項目の意味は以下です。

    Chat：通常チャットを受信したときに音を鳴らします。
    PM Open：PM Windowが開いた場合に音を鳴らします。
    Friend PM：PMを受信した時に音を鳴らします。
    Friend Chat：フレンドの通常チャット受信時に音を鳴らします。
    Friend Online：フレンドがオンラインになったときに音を鳴らします。
    ArenaPM：アリーナＰＭを受信した場合に音を鳴らします。
    Moderator Chat：モデレーターの発言を受信した場合に音を鳴らします。
    Send Chat：チャットを送信した場合に音を鳴らします。

　鳴らす音はJKaiUIのjarもしくはappファイルがある場所と同じフォルダのSoundフォルダ内に入れるとJKaiUI内で認識しコンボボックスで選択できるようになります（JKaiUIの再起動が必要）。
利用できるファイルの形式はwavファイルなどです。詳細（javaリファレンスから引用）は以下です。

    オーディオファイル形式: AIFF、AU、および WAV
     音楽ファイル形式: MIDI Type 0、MIDI Type 1、および Rich Music Format (RMF)
     サウンド形式: モノラルまたはステレオでの 8 ビットおよび 16 ビットのオーディオデータ。サンプリングレートは 8 kHz から 48 kHz
     サポートされているオーディオファイル形式での線形、a-law、および mu-law 符号化データ
     ソフトウェア内での MIDI WaveTable の合成とシーケンシング、およびハードウェア MIDI デバイスへのアクセス
    最大 64 チャネルのデジタルオーディオおよび合成された MIDI 音楽のミキシングおよびレンダリングが可能な、すべてがソフトウェアのミキサー

　動作はitunesでwav出力したファイルを用いることで確認しました。他の形式は動作確認はしておりません。

4, Room/User設定
　部屋とユーザーリストの表示をカスタマイズします。各機能の説明は以下です。

    Decode Room Description：7.4.22 WebUIの人が建てた文字化けした部屋を読めるようにする機能です。文字化けの確認などの時はoffにしてください。デフォルトでオン。
    Font Size：
        Room/User：部屋、ユーザーリストのフォントサイズを指定できます。デフォルトは12。オリジナル版より少しい大きめ。

5, Auto設定
　自動的に動作する機能の設定を指定できます。各機能の説明は以下です。

    AutoHostSetting：移動するたびに自動でホスト設定にしてくれます。デフォルトでオフです。
    AutoArenaMoving：強制的にGeneral Chatへ移動させられた場合に元いた場所に戻ります。ただし、キックされた場合も部屋に戻ってしまうので要注意です。デフォルトでオフです。

1から5の設定はSaveボタンで設定が保存されます。保存後、変更された設定が有効になります。
リセットボタンですべての設定をリセットできます。また、CopySettingボタンですべての設定値の情報をクリップボードにコピーできます。
Save File、Load Fileボタンで設定をファイルに保存、読み込みできます。デフォルトの保存先フォルダはJKaiUIのjar(もしくはapp)ファイルがあるフォルダ内のsettingフォルダになります。

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

　次に設定変更ができない機能について説明します。
1, ポップアップメニュー
　チャットの画面でポップアップメニューを使えるようにしてあります。
（テキストを選択したのち、）右クリックでポップアップメニューが出てきます。

ポップアップメニューでの各項目の意味は以下です。

    Copy to Clipboard：ＯＳ標準のクリップボードにコピー
    Copy to Chat：図下部のチャットウィンドウに選択テキストをコピー
    Search with Google：選択したテキストをGoogleで検索（既定のブラウザ使用）
    Open URL：選択した文字列をURLと仮定し既定のブラウザで開く
    All Select：チャットウィンドウのすべてを選択
    Go to Parent Arena：一つ上のアリーナに移動します。
    Create Arena：プライベートアリーナを作成します。
    GotoArena：アリーナ名を選ぶとそのアリーナに移動できます（満員など入れない部屋には入れません）。
    FollowFriend：フレンドがログオンしているならフレ名が項目として表示されます。フレ名を選択するとその人のいる場所に移動できます。ただし、General Chatには移動しない模様。
    OpenPM：フレンドがログオンしているならフレ名が項目として表示されます。フレ名を選択するとPMウィンドウを開きます。
    Bookmarks：ブックマークがしてあるならブックマークしている場所が項目として表示されます。項目を選択するとブックマークの場所に飛びます。

2, 定型文、顔文字入力パネル
　チャット入力欄の左側のphraseボタンを押すことで定型文、顔文字パネルを表示できます。

定型文はeditボタンを押すことで定型文を編集できます。編集した後saveボタンで編集を反映できます。編集後editボタンを押すことで定型文リストに戻ります。
定型文のデフォルトの保存先はJKaiUIのjar(もしくはapp)ファイルがあるフォルダ内のsettingフォルダ内のfixedphrase.txtです。

顔文字パネルは顔文字をクリックすることでチャット入力欄に入力されます。顔文字はWebUIの同じものを利用することができます。
方法はjarファイルがあるフォルダのemoticonsフォルダにある決まった名前の画像ファイルをおいてください。画像ファイル名はWebUIのものと同じものです。
画像ファイルの場所は以下になります。
    kaiengine.app内のContents/Resources/webui.zipを解凍します。
    解凍したフォルダのimg/emoiconsフォルダ下のファイルになります。
ファイルをおいた後JKaiUIを再起動すると顔文字パネルに反映されます。

定型文、顔文字パネルを開いているとCPUリソースをかなり利用するようなので注意お願いします。

3, チャットロック機能
　チャット入力欄の右側のチェックボックスがチェック状態の時、チャット画面の更新を止めることができます。チェックを外すと更新していなかった間に到着したチャットが表示されます。

4, チャットリセット機能
　チャット入力欄の右側のresetボタンを押すとチャット画面をリセットすることができます。

5, PM環境設定
　チャットの右側のJKaiUI(7.4.18)などと書かれたコンボボックスを相手のUIとKaiEngineにあわせて設定します。それによりPMをを文字化けせずにやりとりできるようにします。
ただし、現状ではJKaiUI(7.4.18), WebUI(7.4.18)のみ正常動作することを確認しています。

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
・CUIコマンドの説明

以下で用いる記号の説明
    ()内はユーザーが任意の値にする必要があります。
    []内はオプションです。省略可能です。
    | = or

    %(command) [(commands)]
        コマンドは行頭の半角の%から始まります。行頭に%にない場合はコマンドとみなされません。commandには以下のすべてのコマンドが利用できます。
        commandsにはsend, ask以外のコマンドが利用できます。

    send (commands)
        commandsで指定したコマンドで表示される結果をチャットとして送信できます。commandsには以下のverからopenconfigまで指定できます。

    ask (commands2)
        commands2で指定したコマンドを相手に実行してもらった結果をチャットで送信してもらいます。commands2ではver, diag, congfigが利用できます。

    ver
        JKaiUIのバージョンを表示します。

    help
        CUIコマンドのヘルプを表示する予定です。現状はコマンドのリストを表示するのみです。
        
    show friends|users|rooms|bookmarks
        現在のオンラインフレンドリスト、現在のいるアリーナのユーザー、現在いるアリーナの部屋リスト、ブックマークリストをそれぞれ表示します。

    phrase #(num)
        定型文を表示します。numは定型文リストの上からの番号です。

    emoti #(num)
        顔文字を入力欄に表示します。numは顔文字番号です。顔文字パネルの左上が１で右に向かって１ずつ増えていきます。

    setconfig (ConfigTag) (value)
        config値を設定します。最後に説明するplistのTypeがConfigTagになります。値の種類は３種類あります。これもplistで確認する必要があります。
            boolean型：true, falseのみ
            int型：整数値のみ
            String型：文字列

    config all|original|other|log|chatpm|roomuser|sound
        現在の設定値を表示できます。allなどはカテゴリです。

    diag all|server|network|reachable|hardware|nic|lib|engine|ver|platform
        diagモードでみれる情報を表示できます。allなどはカテゴリです。

    go parent|#(num)|(relative_address)
        現在いるアリーナを基点として移動します。parent, #0を指定すると一つ上のアリーナに移動します。#(num)を指定すると表示されている部屋の上からnum番目に移動します。
        relative_addressを指定するとその名前の部屋に移動します。

    gofull full_address
        フルアドレスを指定して移動します。（例：gofull Arena/PSP/Action）

    arenapm #(num)
        arenapmを開きます。表示されている上からnum番目のユーザーのPMを開きます。

    follow #(num)
        フレリストのオンラインになっているnum番目のユーザーの現在いる場所に移動します。

    pm #(num)
        フレリストのオンラインになっているnum番目のユーザーのPMを開きます。

    bookmark #(num)
        ブックマークリストのnum番目の場所に飛びます。

    chatreset
        チャット画面のリセット。

    chatlock
        チャットのロック。

    cahtunlock
        チャットのアンロック。

    logwindow
        ログウィンドウを表示、非表示にする。

    exit
        JKaiUIを終了する。

    connect
        kaiengineに接続する。

    disconnect
        kaiengineとの接続を切る。

    messengermode
        メッセンジャーモードにする。

    arenamode
        アリーナモードにする。

    diagmode
        Diagモードにする。
　
    create [(description)] [(maxplayernum)][(password)]
        部屋を作成する。オプションをすべて省略した場合、各値を入力するウィンドウが表示される。
            maxplayernum, passwordを指定しなかった場合、それぞれ４、なしで部屋が作られる。
            passwordを省略した場合、パスワードなしで部屋が作成される。
            他の省略パターンはできない（必ず１つめのオプションはdescriptionと解釈される。2つめ、3つめも同様）。

    openconfig
        設定画面を開く。

-------------------------------------------------------------------------------------------------------------------------
　最後にJKaiUIの設定を強制的にリセットする方法について説明します。
動作がおかしくなったときとか、設定を初期化したいときに利用してください。

Snow Leopardの場合
    /Users/"user"/Library/com.apple.java.util.prefs.plistファイルを開く
    /pt以下を削除

"user"の部分はそれぞれのユーザー名に置き換えてください。
ＯＳなどでも変わるようなので他の環境の人は自分で調べてください（詳細は「java java.util.prefs.Prefereces os名」などで検索）
Windowsの場合はレジストリに保存されるらしい。
Linuxでは"$HOME/.java/.userPrefs/****/prefs.xml"ファイルに保存されてるらしい。
いずれも/pt/jkaiuiという構造で保存されていると推測されます。

---------------------------------------------------------------------------------------------------------------------------
・連絡先
　メールアドレス：yuu.akron@gmail.com
　ウェブページ：http://yuu-akron.blogspot.com/
　オリジナル版：http://jkaiui.sourceforge.net/downloads/